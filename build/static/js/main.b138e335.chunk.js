(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[0],{1036:function(e,t,a){},1063:function(e,t){},1103:function(e,t){},1105:function(e,t){},1139:function(e,t){},1141:function(e,t){},1156:function(e,t){},1158:function(e,t){},1168:function(e,t){},1170:function(e,t){},1197:function(e,t,a){},1199:function(e,t,a){},1208:function(e,t,a){},1216:function(e,t,a){},1217:function(e,t,a){},1218:function(e,t,a){},1219:function(e,t,a){},1239:function(e,t,a){},1240:function(e,t,a){},1241:function(e,t,a){},1242:function(e,t,a){},1243:function(e,t,a){},1244:function(e,t,a){},1246:function(e,t,a){"use strict";a.r(t);a(504),a(553),a(741),a(743),a(744),a(745),a(746),a(747),a(748),a(749),a(750),a(751),a(752),a(753),a(754),a(755),a(756),a(757),a(758),a(759),a(760),a(761),a(762),a(763),a(764),a(765),a(766),a(767),a(768),a(208),a(769),a(770),a(771),a(772),a(773),a(774),a(775),a(776),a(777),a(778),a(779),a(780),a(781),a(782),a(783),a(785),a(786),a(787),a(788),a(790),a(791),a(793),a(794),a(795),a(796),a(278),a(797),a(798),a(799),a(800),a(801),a(802),a(803),a(804),a(805),a(806),a(807),a(808),a(809),a(810),a(811),a(812),a(813),a(814),a(815),a(816),a(817),a(818),a(819),a(820),a(821),a(822),a(823),a(824),a(825),a(826),a(827),a(828),a(829),a(830),a(831),a(832),a(833),a(834),a(835),a(836),a(837),a(838),a(839),a(840),a(841),a(842),a(843),a(844),a(845),a(846),a(847),a(848),a(849),a(851),a(852),a(853),a(854),a(855),a(856),a(857),a(859),a(860),a(861),a(862),a(863),a(864),a(865),a(866),a(867),a(868),a(869),a(870),a(871),a(872),a(873),a(409),a(874),a(875),a(876),a(877),a(410),a(878),a(879),a(880),a(881),a(882),a(883),a(884),a(885),a(886),a(887),a(888),a(889),a(890),a(891),a(892),a(893),a(894),a(895),a(896),a(897),a(898),a(899),a(900),a(901),a(902),a(903),a(905),a(906),a(907),a(908),a(909),a(910),a(911),a(912),a(913),a(914),a(915),a(916),a(917),a(918),a(919),a(920),a(921),a(922),a(923),a(924),a(925),a(926),a(927),a(928),a(929),a(930),a(931),a(932),a(933),a(934),a(935),a(936),a(937),a(286),a(938),a(939),a(940),a(941),a(942),a(943),a(944),a(946),a(947),a(948),a(949),a(950),a(951),a(952),a(953),a(955),a(956),a(957),a(958),a(959),a(960),a(961),a(962),a(963),a(964),a(965),a(966),a(967),a(968),a(969),a(970),a(971),a(972),a(973),a(974),a(975),a(976),a(977),a(978),a(979),a(981),a(982),a(983),a(984),a(985),a(986),a(987),a(988),a(989),a(990),a(991),a(992),a(993),a(994),a(995),a(996),a(997),a(998),a(999),a(1e3),a(1001),a(1002),a(1003),a(1004),a(1005),a(1006),a(1007),a(1008),a(1009),a(1010),a(1011),a(1012),a(1014),a(1015),a(1016),a(1017),a(1018),a(1019),a(1020),a(1021),a(1022),a(1023),a(1024),a(1025),a(1026),a(1027),a(1028),a(1029),a(1031),a(420);!function(){if("function"===typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}e.prototype=window.Event.prototype,window.CustomEvent=e}();var n=a(0),r=a.n(n),c=a(120),l=a.n(c),o=(a(1036),a(20)),s=a(36),i=a(66),u=a(98),m=a(185),p=a.n(m),f=a(153),d=a.n(f),b=d.a.createLogger({transports:[new d.a.transports.Console],format:d.a.format.combine(d.a.format.colorize({all:!0}),d.a.format.simple())}),E=(a(1197),function(){return r.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")}),g=a(42),O=a(12),v=Object(O.d)(),j=Object(O.d)(),h=Object(O.d)(),y=Object(O.e)([]).on(v,(function(e,t){return Object(g.a)(t)})).on(h,(function(e,t){return[].concat(Object(g.a)(e),[t])})).on(j,(function(e,t){var a=e.findIndex((function(e){return e.id===t.id})),n=Object(g.a)(e);return 30===t.status||40===t.status||45===t.status?n.splice(a,1):n.splice(a,1,t),n})),w=Object(O.d)(),k=Object(O.d)(),N={isAuthed:!1,token:"",error:"",user:{}},C=Object(O.e)(N).on(w,(function(e,t){return{isAuthed:!0,token:t.token,user:t.user}})).on(k,(function(){return localStorage.clear(),N})),x=a(97);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var U=Object(O.d)(),P=Object(O.e)({error:""}).on(U,(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{error:t})})),A=Object(O.d)(),D=Object(O.d)(),I=Object(O.d)(),T=Object(O.e)([]).on(A,(function(e,t){return Object(g.a)(t)})).on(D,(function(e,t){return[].concat(Object(g.a)(e),[t])})).on(I,(function(e,t){return Object(g.a)(e).filter((function(e){return e!==t}))}));function L(e,t){var a=Object(g.a)(e),n=a.findIndex((function(e){return e.id===t.id}));return a.splice(n,1),a}var H=Object(O.d)(),B=Object(O.d)(),R=Object(O.d)(),F=Object(O.d)(),z=Object(O.d)(),G=Object(O.d)(),M=[],J=Object(O.e)(M).on(H,(function(e,t){return Object(g.a)(t.filter((function(e){return 35===e.role})))})).on(F,(function(e,t){return[].concat(Object(g.a)(e),[t])})),W=Object(O.e)(M).on(B,(function(e,t){return Object(g.a)(t.filter((function(e){return 36===e.role})))})).on(R,(function(e,t){return[].concat(Object(g.a)(e),[t])})),_=Object(O.e)(M).on(H,(function(e,t){return Object(g.a)(t.filter((function(e){return 31===e.role})))})).on(F,(function(e,t){return L(e,t)})).on(G,(function(e,t){return L(e,t)})),q=Object(O.e)(M).on(B,(function(e,t){return Object(g.a)(t.filter((function(e){return 32===e.role})))})).on(R,(function(e,t){return L(e,t)})).on(z,(function(e,t){return L(e,t)})),V=Object(O.d)(),Z=Object(O.d)(),K=Object(O.e)("disconnected").on(V,(function(){return"connected"})).on(Z,(function(){return"disconnecting"})),Q=a(234),Y={items:[{name:"\u0422\u0440\u0435\u0432\u043e\u0433\u0438",url:"/main",icon:"icon-bell"},{name:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",url:"/reg",icon:"icon-user"},{name:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",url:"/chart",icon:"icon-chart"},{name:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",url:"/settings",icon:"icon-wrench"},{name:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",url:"/users",icon:"icon-people"}]},$=a(1250),X=a(1247),ee=a(1249),te=a(1251),ae=a(1270),ne=a(1271),re=a(1252),ce=(a(1199),a(111)),le=function(e){var t=e.socket,a=e.setUpSocket,c=Object(s.a)(_),l=Object(s.a)(q),o=Object(s.a)(y),u=Object(s.a)(C);return r.a.createElement(n.Suspense,{fallback:E},r.a.createElement(ce.b,null,r.a.createElement(ce.e,{className:"d-lg-none",display:"md",mobile:!0}),r.a.createElement(ce.e,{className:"d-md-down-none",display:"lg"}),r.a.createElement($.a,{className:"mr-auto",navbar:!0},r.a.createElement(X.a,null,r.a.createElement(i.NavLink,{to:"/main",className:"nav-link"},r.a.createElement("i",{className:"icon-bell"},r.a.createElement(ee.a,{pill:!0,color:o.length?"danger":"success"},o.length)))),r.a.createElement(X.a,null,r.a.createElement(i.NavLink,{to:"/reg",className:"nav-link"},r.a.createElement("i",{className:"icon-people"},r.a.createElement(ee.a,{pill:!0,color:c.length||l.length?"warning":"success"},[].concat(Object(g.a)(l),Object(g.a)(c)).length))))),r.a.createElement($.a,{className:"ml-auto mr-3",navbar:!0},r.a.createElement(te.a,{nav:!0,inNavbar:!0},r.a.createElement(ae.a,{className:"text-primary",nav:!0,caret:!0},u.user.email),r.a.createElement(ne.a,null,r.a.createElement(re.a,{onClick:function(e){e.preventDefault(),k(),t.disconnect();a(p()("https://api1.kurakste.ru/cp-clients",{}))}},"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"))))))},oe=(a(1208),function(){var e=Object(s.a)(K),t=r.a.createElement("i",{className:"cui-lightbulb icons font-xl text-danger blink"});return"connected"===e&&(t=r.a.createElement("i",{className:"cui-lightbulb icons font-xl text-success"})),r.a.createElement(n.Suspense,{fallback:E},r.a.createElement(ce.a,{fixed:!0},r.a.createElement("span",null,"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0441\u0442\u0430\u0442\u0443\u0441:",t),r.a.createElement("span",{className:"ml-auto"},"Powered by ",r.a.createElement("a",{href:"https://github.com/kurakste/guard_control_front"},"Guard Control Team "))))}),se=a(1269),ie=a(1253),ue=a(1254),me=a(1255),pe=a(1256),fe=a(499),de=function(e){var t=e.isOpen,a=e.onSubmit,n=e.onCancel,c=e.title,l=e.text,o=e.modalStyle,s=void 0===o?"modal-primary":o,i=e.submitColor,u=void 0===i?"primary":i,m=e.className,p=e.noControls,f=void 0!==p&&p,d=e.withInput,b=void 0!==d&&d,E=e.value,g=void 0===E?"":E,O=e.onChange;return r.a.createElement(se.a,{isOpen:t,toggle:n,className:"".concat(m," + ' ' + ").concat(s)},r.a.createElement(ie.a,{toggle:n},c),r.a.createElement(ue.a,null,l,b&&r.a.createElement(me.a,{className:"my-2",value:g,onChange:O})),!f&&r.a.createElement(pe.a,null,r.a.createElement(fe.a,{color:u,onClick:a,disabled:b&&!g},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")," ",r.a.createElement(fe.a,{color:"secondary",onClick:n},"\u041e\u0442\u043c\u0435\u043d\u0430")))},be=(a(1216),function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current}),Ee=a(1264),ge=a(1257),Oe=a(1263),ve=a(122);a(1217);function je(e){switch(!0){case 1===e:return"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438";case 3===e:return"\u041e\u0442\u0441\u0442\u0443\u0441\u0442\u0432\u0443\u0435\u0442 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d";case 4===e:return"\u0418\u0441\u0442\u0451\u043a \u0441\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0442\u043e\u043a\u0435\u043d\u0430";case 7===e:return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";case 8===e:return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u044b";case 500===e:return"\u0414\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0436\u0435 \u043f\u043e\u043a\u0434\u043b\u044e\u0447\u0435\u043d \u043a \u0441\u0438\u0441\u0442\u0435\u043c\u0435";case e>=6&&e<=10:default:return"\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}}function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ye=function(e){var t=e.alarms,a=e.alarmId,n=e.onClick,c=Object(s.a)(T),l=Object(s.a)(C),o=[{Header:"\u0421\u0442\u0430\u0442\u0443\u0441",accessor:"status",Cell:function(e){var t="danger";return 10===e.row.status&&(t="warning"),20===e.row.status&&(t="success"),r.a.createElement("div",{className:"status-container"},r.a.createElement("span",{className:"status-text"},function(e){switch(!0){case 0===e:return"\u041d\u043e\u0432\u0430\u044f";case 10===e:return"\u041f\u0440\u0438\u043d\u044f\u0442\u0430 \u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443";case 20===e:return"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0433\u0440\u0443\u043f\u043f\u0430";default:return"\u041d\u043e\u0432\u0430\u044f"}}(e.row.status)),r.a.createElement(ee.a,{pill:!0,color:t},"!"))}},{Header:"\u0412 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c",accessor:"oid",Cell:function(e){var t=c.find((function(t){return t===e.row.oid}));return t&&(t="\u0412 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435: id".concat(t)),!t&&e.row.status&&(t="\u0412 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435: \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 \u043d\u0435 \u0432 \u0441\u0435\u0442\u0438"),e.row.oid===l.user.id&&(t="\u0412 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u043c\u043d\u043e\u0439"),r.a.createElement("div",null,r.a.createElement("span",null,t||"\u043d\u0435 \u0432\u0437\u044f\u0442 \u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443"))}},{Header:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",accessor:"User",Cell:function(e){return r.a.createElement("div",null,r.a.createElement("span",null,"".concat(e.row.User.lastName," ")),r.a.createElement("span",null,e.row.User.firstName))}},{Header:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",accessor:"User.tel"},{Header:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d",accessor:"callIsPaid",Cell:function(e){return r.a.createElement("div",null,r.a.createElement("span",null,"".concat(e.row.callIsPaid?"\u0414\u0430":"\u041d\u0435\u0442"," ")))}}];return r.a.createElement(ve.a,{data:t,columns:o,showPagination:t&&t.length>15,showPaginationBottom:!0,showPageSizeOptions:!1,defaultPageSize:15,previousText:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",nextText:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",pageText:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430",ofText:"\u0438\u0437",rowsText:"\u0441\u0442\u0440\u043e\u043a",minRows:0,style:{height:"80vh",borderLeft:"0px",borderTop:"0px",borderBottom:"0px"},getTdProps:function(e,t){var r={onClick:function(e,a){n(t.original.id),a&&a()},style:{textAlign:"center",cursor:"pointer",whiteSpace:"unset"}};return t.original.id===a&&(r.style=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(Object(a),!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r.style,{background:"#20a8d8",color:"white"})),r}})},we=a(1258),ke=a(1259),Ne=a(1260),Ce=a(1261),xe=a(1262);function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ue=function(e){var t=e.user,a=e.clearUser,c=e.socket,l=Object(n.useState)(!1),s=Object(o.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),f=p[0],d=p[1],b=Object(n.useState)(""),E=Object(o.a)(b,2),g=E[0],O=E[1],v=function(){u(!1)},j=35===t.role||36===t.role;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{className:"buttons-container mr-0 ml-0"},r.a.createElement(fe.a,{color:"ghost-success",onClick:u,disabled:j},r.a.createElement("i",{className:"fa fa-check"}),"\xa0\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"),r.a.createElement(fe.a,{color:"ghost-danger",onClick:d,disabled:j},r.a.createElement("i",{className:"fa fa-close"}),"\xa0\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"),r.a.createElement(fe.a,{color:"ghost-primary",onClick:function(){return a(null)}},r.a.createElement("i",{className:"fa fa-undo"}),"\xa0\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f")),r.a.createElement(de,{isOpen:Boolean(i),onSubmit:function(){var e="";31===t.role&&(e="cpAppUserApprove"),32===t.role&&(e="cpCpUserApprove"),e&&(c.emit(e,{payload:t}),v(),a(null))},onCancel:v,title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",text:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?",modalStyle:"modal-success",submitColor:"success"}),r.a.createElement(de,{isOpen:Boolean(f),onSubmit:function(){var e="";if(31===t.role&&(e="cpAppUserDecline"),32===t.role&&(e="cpCpUserDecline"),e){var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(a),!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t);n.notes=g,c.emit(e,{payload:n}),d(!1),a(null)}},onCancel:function(){d(!1)},title:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443",text:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043c\u0435\u043d\u044b",withInput:!0,value:g,onChange:function(e){return O(e.target.value)},modalStyle:"modal-danger",submitColor:"danger"}))},Pe=(a(1218),function(e){var t=e.withControls,a=e.user,n=e.clearUser,c=e.socket,l="https://api2.kurakste.ru/";return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(E,null)},r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(Ue,{user:a,clearUser:n,socket:c}),r.a.createElement("div",{className:"cards-container"},r.a.createElement("div",{className:"card-container pt-2 pl-2 pr-1 pb-1"},r.a.createElement(we.a,null,r.a.createElement(ke.a,null,"\u0424\u043e\u0442\u043e"),r.a.createElement(Ne.a,null,a&&r.a.createElement("img",{src:"".concat(l,"img/").concat(a.img),alt:"user's face",className:"card-image"})))),r.a.createElement("div",{className:"card-container pt-2 pb-1 pl-1 pr-2"},r.a.createElement(we.a,null,r.a.createElement(ke.a,null,"\u0424\u0418\u041e, \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),r.a.createElement(Ne.a,null,r.a.createElement(Ce.a,{flush:!0},r.a.createElement(xe.a,null,r.a.createElement("strong",null,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f: "),a.lastName),r.a.createElement(xe.a,null,r.a.createElement("strong",null,"\u0418\u043c\u044f: "),a.firstName),r.a.createElement(xe.a,null,r.a.createElement("strong",null,"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b. \u043f\u043e\u0447\u0442\u044b: "),r.a.createElement("a",{href:"mailto:".concat(a.email)},a.email)),r.a.createElement(xe.a,null,r.a.createElement("strong",null,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d: "),r.a.createElement("a",{href:"tel:".concat(a.tel)},a.tel)))))),r.a.createElement("div",{className:"card-container pt-1 pl-2 pr-1 pb-2"},r.a.createElement(we.a,null,r.a.createElement(ke.a,null,"\u041f\u0430\u0441\u043f\u043e\u0440\u0442, \u043f\u0435\u0440\u0432\u044b\u0439 \u0440\u0430\u0437\u0432\u043e\u0440\u043e\u0442"),r.a.createElement(Ne.a,null,r.a.createElement("img",{src:"".concat(l,"img/").concat(a.pasImg1),alt:"user's passport, 1st page",className:"card-image"})))),r.a.createElement("div",{className:"card-container card-container pt-1 pb-2 pl-1 pr-2"},r.a.createElement(we.a,null,r.a.createElement(ke.a,null,"\u041f\u0430\u0441\u043f\u043e\u0440\u0442, \u0432\u0442\u043e\u0440\u043e\u0439 \u0440\u0430\u0437\u0432\u043e\u0440\u043e\u0442"),r.a.createElement(Ne.a,null,r.a.createElement("img",{src:"".concat(l,"img/").concat(a.pasImg2),alt:"user's passport, 1st page",className:"card-image"})))))))}),Ae=a(1248);a(1219);function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ie=function(e){var t=e.onClick,a=e.alarm,c=e.socket,l=Object(n.useState)(!1),s=Object(o.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),f=p[0],d=p[1],b=Object(n.useState)(!1),E=Object(o.a)(b,2),g=E[0],O=E[1],v=Object(n.useState)(!1),j=Object(o.a)(v,2),h=j[0],y=j[1],w=Object(n.useState)(""),k=Object(o.a)(w,2),N=k[0],C=k[1];return r.a.createElement("div",{className:"control-panel-header"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement(fe.a,{color:"ghost-primary",disabled:0!==Number(a.status),onClick:function(){return u(!0)}},"\u041f\u0440\u0438\u043d\u044f\u0442\u044c \u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443"),r.a.createElement(fe.a,{color:"ghost-success",disabled:10!==Number(a.status),onClick:function(){return d(!0)}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"),r.a.createElement(fe.a,{color:"ghost-warning",onClick:function(){return O(!0)}},"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"),r.a.createElement(fe.a,{color:"ghost-danger",onClick:function(){return y(!0)}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")),r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae.a,{href:"#",onClick:function(){t(0)}},"\u041a\u0430\u0440\u0442\u0430")),r.a.createElement(X.a,null,r.a.createElement(Ae.a,{href:"#",onClick:function(){t(1)}},"\u0414\u0430\u043d\u043d\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430")))),r.a.createElement(de,{isOpen:Boolean(i),onSubmit:function(){c.emit("cpPickedUpAlarm",{payload:a}),u(!1)},onCancel:function(){return u(!1)},title:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c \u0442\u0440\u0435\u0432\u043e\u0433\u0443 \u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443",text:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u044f\u0432\u043a\u0438?",modalStyle:"modal-primary",submitColor:"primary"}),r.a.createElement(de,{isOpen:Boolean(f),onSubmit:function(){c.emit("cpAlarmGbrSent",{payload:a}),d(!1)},onCancel:function(){return d(!1)},title:"\u041d\u0430\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",text:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0433\u0440\u0443\u043f\u043f\u044b?",modalStyle:"modal-success",submitColor:"success"}),r.a.createElement(de,{isOpen:Boolean(g),onSubmit:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(Object(a),!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a);e.notes=N,c.emit("cpAlarmDecline",{payload:e}),O(!1)},onCancel:function(){return O(!1)},title:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443",text:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043c\u0435\u043d\u044b",withInput:!0,value:N,onChange:function(e){return C(e.target.value)},modalStyle:"modal-warning",submitColor:"warning"}),r.a.createElement(de,{isOpen:Boolean(h),onSubmit:function(){c.emit("cpAlarmClosed",{payload:a}),y(!1)},onCancel:function(){return y(!1)},title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443",text:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u0437\u0430\u044f\u0432\u043a\u0438?",modalStyle:"modal-danger",submitColor:"danger"}))},Te=a(501),Le=a.n(Te);function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Be(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Re=r.a.createElement("g",null,r.a.createElement("path",{fill:"#20a8d8",d:"M182.9,551.7c0,0.1,0.2,0.3,0.2,0.3S358.3,283,358.3,194.6c0-130.1-88.8-186.7-175.4-186.9 C96.3,7.9,7.5,64.5,7.5,194.6c0,88.4,175.3,357.4,175.3,357.4S182.9,551.7,182.9,551.7z M122.2,187.2c0-33.6,27.2-60.8,60.8-60.8 c33.6,0,60.8,27.2,60.8,60.8S216.5,248,182.9,248C149.4,248,122.2,220.8,122.2,187.2z"})),Fe=function(e){var t=e.svgRef,a=e.title,n=Be(e,["svgRef","title"]);return r.a.createElement("svg",He({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 365 560",enableBackground:"new 0 0 365 560",xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,Re)},ze=r.a.forwardRef((function(e,t){return r.a.createElement(Fe,He({svgRef:t},e))})),Ge=(a.p,a(1239),function(e){var t=e.alarm,a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],s=c[1],i=function(){s(!l)};return l?r.a.createElement("div",{className:"marker-opened"},r.a.createElement("div",{className:"d-flex align-items-top justify-content-between align-items-start"},r.a.createElement("div",{className:"alarm-info-container"},r.a.createElement("div",{className:"alarm-info"},"\u0424\u0418\u041e: ".concat(t.User.firstName," ").concat(t.User.lastName)),r.a.createElement("div",{className:"alarm-info"},"\u0422\u0415\u041b.: ".concat(t.User.tel)),r.a.createElement("div",{className:"alarm-info"},"\u0410\u0434\u0440\u0435\u0441: ".concat(t.address)),r.a.createElement("div",{className:"alarm-info"},"\u0428\u0438\u0440\u043e\u0442\u0430: ".concat(t.track[0][0])),r.a.createElement("div",{className:"alarm-info"},"\u0414\u043e\u043b\u0433\u043e\u0442\u0430: ".concat(t.track[0][1]))),r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:i},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement(fe.a,{color:"ghost-primary",onClick:function(){navigator.clipboard.writeText("\n        \u0424\u0418\u041e: ".concat(t.User.firstName," ").concat(t.User.lastName,"\n        \u0422\u0415\u041b.: ").concat(t.User.tel,"\n        \u0410\u0434\u0440\u0435\u0441: ").concat(t.address,"\n        \u0428\u0438\u0440\u043e\u0442\u0430: ").concat(t.track[0][0],"\n        \u0414\u043e\u043b\u0433\u043e\u0442\u0430: ").concat(t.track[0][1],"\n      ")).then((function(){i()})).catch((function(e){console.log("Something went wrong",e)}))}},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c")):r.a.createElement("div",{className:"marker-container",onClick:i},r.a.createElement(ze,{className:"marker-icon"}))}),Me=(a(1240),function(e){var t=e.track,a=e.alarm,n=t[0][0],c=t[0][1];return r.a.createElement("div",{className:"map-container"},r.a.createElement(Le.a,{bootstrapURLKeys:{key:"AIzaSyCMm5CY1pV5wtF1-P2ukFI9-kQVIs0ZOa0"},center:{lat:n,lng:c},defaultZoom:10},r.a.createElement(Ge,{lat:n,lng:c,alarm:a})))}),Je=(a(1241),a(1242),function(e){var t=e.chops,a=e.onClick,n=e.activeChopIndex;return r.a.createElement(Oe.a,{className:"px-0"},r.a.createElement(ve.a,{data:t,columns:[{Header:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",accessor:"name",style:{cursor:"pointer"}}],showPagination:!1,minRows:0,style:{height:"100%",borderLeft:"0px",borderTop:"0px",borderBottom:"0px"},getTdProps:function(e,t){var r={onClick:function(e,n){a(t.index),n&&n()}};return t.index===n&&(r.style={background:"#20a8d8",color:"white"}),r}}))}),We=function(e){var t=e.chop;return r.a.createElement(Oe.a,{lg:"9",xl:"9",mg:"9",sm:"9",xs:"9",className:"px-0"},r.a.createElement(ve.a,{data:[t],columns:[{Header:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",accessor:"name"},{Header:"\u0420\u0435\u0433\u0438\u043e\u043d",accessor:"regionId"},{Header:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",accessor:"tel"},{Header:"\u0414\u043e\u043f. \u0442\u0435\u043b\u0435\u0444\u043e\u043d 1",accessor:"tel1"},{Header:"\u0414\u043e\u043f. \u0442\u0435\u043b\u0435\u0444\u043e\u043d 2",accessor:"tel2"},{Header:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438",accessor:"notes",style:{whiteSpace:"unset"}}],showPagination:!1,minRows:0,style:{height:"100%",border:"0px"}}))},_e=function(e){var t=e.chops,a=Object(n.useState)(t[0]),c=Object(o.a)(a,2),l=c[0],s=c[1];return Object(n.useEffect)((function(){s(t[0])}),[t]),r.a.createElement("div",{className:"chops-container d-flex animated fadeIn"},r.a.createElement(Je,{chops:t,onClick:function(e){s(t[e])},activeChopIndex:t.indexOf(l)}),r.a.createElement(We,{chop:l}))},qe=function(e){var t=e.alarm;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me,{track:t.track,alarm:t}),t.Gbrs.length&&r.a.createElement(_e,{chops:t.Gbrs}))},Ve=function(e){var t=e.setActiveTab,a=e.activeAlarm,n=e.activeTab,c=e.socket;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,{onClick:t,activeTab:n,alarm:a,socket:c}),n?r.a.createElement(Pe,{user:a.User}):r.a.createElement(qe,{alarm:a}))},Ze=(a(1243),function(e){var t=Object(s.a)(y),a=Object(n.useState)(0),c=Object(o.a)(a,2),l=c[0],i=c[1],u=Object(n.useState)(null),m=Object(o.a)(u,2),p=m[0],f=m[1],d=be(p);return Object(n.useEffect)((function(){if(d||!t.length){var e=t.find((function(e){return e.id===p.id}));f(e?t[t.indexOf(e)]:t[0])}else f(t[0])}),[p,d,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{fluid:!0,className:"main-container animated fadeIn"},r.a.createElement(ge.a,null,r.a.createElement(Oe.a,{xl:"4",lg:"4",mg:"4",sm:"4",xs:"4",className:"alarms-container pr-0"},t.length&&p?r.a.createElement(ye,{alarms:t,alarmId:p.id,onClick:function(e){var a=t.find((function(t){return t.id===e}));f(a)}}):r.a.createElement("span",{className:"control-panel_info"},"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0442\u0440\u0435\u0432\u043e\u0433\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442")),r.a.createElement(Oe.a,{xl:"8",lg:"8",mg:"8",sm:"8",xs:"8",className:"px-0 d-flex flex-column"},Boolean(t.length)&&p&&r.a.createElement(Ve,Object.assign({setActiveTab:i,activeAlarm:p,activeTab:l},e))))))}),Ke=(a(1244),a(1245),function(e){var t=e.onClick,a=e.users,n=e.switchTab,c=e.active,l=[{Header:"\u0418\u043c\u044f",accessor:"firstName"},{Header:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",accessor:"lastName"},{Header:"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b. \u043f\u043e\u0447\u0442\u044b",accessor:"email"},{Header:"\u0420\u043e\u043b\u044c",accessor:"role",Cell:function(e){return r.a.createElement("span",null,function(e){switch(!0){case 0===e:return"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440";case 10===e:return"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440";case 20===e:return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c";case 31===e:return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c, \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442";case 32===e:return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u041a\u041f, \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442";case 33===e:return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c, \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043d\u044b\u0439";case 34===e:return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u041a\u041f, \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043d\u044b\u0439";case 35===e:return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c";case 36===e:return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u041a\u041f";default:throw new Error("\u0420\u043e\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430")}}(e.value))}},{Header:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",accessor:"id",Cell:function(e){return r.a.createElement(fe.a,{color:"ghost-success",onClick:function(){t(e.value)}},r.a.createElement("i",{className:"fa fa-check"}),"\xa0\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c")}}];return r.a.createElement("div",{className:"animated fadeIn table-container"},r.a.createElement(ge.a,null,r.a.createElement(Oe.a,null,r.a.createElement(we.a,null,r.a.createElement(ke.a,null,r.a.createElement("i",{className:"fa fa-clock-o"})," \u041e\u0436\u0438\u0434\u0430\u044e\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f"),r.a.createElement(Ne.a,null,r.a.createElement($.a,{tabs:!0},r.a.createElement(X.a,null,r.a.createElement(Ae.a,{href:"#",active:"newAppUsers"===c,name:"newAppUsers",onClick:function(e){e.preventDefault(),n(e.target.name)}},"\u041d\u043e\u0432\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f")),r.a.createElement(X.a,null,r.a.createElement(Ae.a,{href:"#",active:"newCpUsers"===c,name:"newCpUsers",onClick:function(e){e.preventDefault(),n(e.target.name)}},"\u041d\u043e\u0432\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438")),r.a.createElement(X.a,null,r.a.createElement(Ae.a,{href:"#",active:"appUsers"===c,name:"appUsers",onClick:function(e){e.preventDefault(),n(e.target.name)}},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f")),r.a.createElement(X.a,null,r.a.createElement(Ae.a,{href:"#",active:"\u0441pUsers"===c,name:"cpUsers",onClick:function(e){e.preventDefault(),n(e.target.name)}},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438"))),r.a.createElement(ve.a,{data:a,columns:l,previousText:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",nextText:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",pageText:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430",ofText:"\u0438\u0437",rowsText:"\u0441\u0442\u0440\u043e\u043a"}))))))}),Qe=[{path:"/",exact:!0,name:"Home"},{path:"/main",name:"Security Control Desc",component:Ze},{path:"/reg",exact:!0,name:"Registration Requests",component:function(e){var t=e.socket,a={appUsers:Object(s.a)(J),cpUsers:Object(s.a)(W),newAppUsers:Object(s.a)(_),newCpUsers:Object(s.a)(q)},c=Object(n.useState)(null),l=Object(o.a)(c,2),i=l[0],u=l[1],m=Object(n.useState)("newAppUsers"),p=Object(o.a)(m,2),f=p[0],d=p[1];return i?r.a.createElement(Pe,{socket:t,user:i,withControls:!0,clearUser:u}):r.a.createElement(Ke,{onClick:function(e){var t=a[f].filter((function(t){return t.id===e}))[0];u(t)},users:a[f],switchTab:d,active:f})}}],Ye=function(e){e.history;var t=e.socket,a=e.setUpSocket,c=Object(Q.a)(e,["history","socket","setUpSocket"]),l=Object(s.a)(K);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app"},r.a.createElement(le,{socket:t,setUpSocket:a}),r.a.createElement("div",{className:"app-body"},r.a.createElement(ce.c,{display:"lg"},r.a.createElement(n.Suspense,null,r.a.createElement(ce.d,Object.assign({navConfig:Y},c,{router:i})))),r.a.createElement("main",{className:"main"},r.a.createElement(u.g,null,Qe.map((function(e,a){return e.component?r.a.createElement(u.d,{key:a,path:e.path,exact:e.exact,name:e.name,render:function(a){return r.a.createElement(e.component,Object.assign({},a,{socket:t}))}}):null})),r.a.createElement(u.c,{from:"/",to:"/main"})),r.a.createElement(oe,null)))),r.a.createElement(de,{isOpen:"disconnecting"===l,title:"\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435",text:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435",modalStyle:"modal-danger",noControls:!0}))},$e=a(1265),Xe=a(1266),et=a(1267),tt=a(1268),at=a(502),nt=function(e){var t=e.socket,a=Object(s.a)(P),c=Object(s.a)(C),l=Object(n.useState)(""),m=Object(o.a)(l,2),p=m[0],f=m[1],d=Object(n.useState)(""),b=Object(o.a)(d,2),E=b[0],g=b[1];return c.isAuthed?r.a.createElement(u.c,{to:"/main"}):r.a.createElement("div",{className:"app flex-row align-items-center"},r.a.createElement(Ee.a,null,r.a.createElement(ge.a,{className:"justify-content-center"},r.a.createElement(Oe.a,{md:"8"},r.a.createElement($e.a,null,r.a.createElement(we.a,{className:"p-4"},r.a.createElement(Ne.a,null,r.a.createElement(Xe.a,{onSubmit:function(e){e.preventDefault();var a={email:p,password:E};t.emit("cpSignIn",{payload:a})}},r.a.createElement("h1",null,"Guard Control"),a.error>=3&&7!==a.error?r.a.createElement("p",{className:"text-danger"},je(a.error)):r.a.createElement("p",{className:"text-muted"},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement(et.a,{className:"mb-3"},r.a.createElement(tt.a,{addonType:"prepend"},r.a.createElement(at.a,null,r.a.createElement("i",{className:"icon-user"}))),r.a.createElement(me.a,{type:"text",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",autoComplete:"username",value:p,onChange:function(e){return f(e.target.value)}})),r.a.createElement(et.a,{className:"mb-4"},r.a.createElement(tt.a,{addonType:"prepend"},r.a.createElement(at.a,null,r.a.createElement("i",{className:"icon-lock"}))),r.a.createElement(me.a,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",autoComplete:"current-password",value:E,onChange:function(e){return g(e.target.value)}})),r.a.createElement(ge.a,null,r.a.createElement(Oe.a,{xs:"6"},r.a.createElement(fe.a,{color:"primary",className:"px-4"},"\u0412\u043e\u0439\u0442\u0438")))))),r.a.createElement(we.a,{className:"text-white bg-primary py-5 d-md-down-none",style:{width:"44%"}},r.a.createElement(Ne.a,{className:"text-center"},r.a.createElement("div",null,r.a.createElement("h2",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("p",null,"\u0414\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u043e\u0439\u0442\u0438 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),r.a.createElement(i.Link,{to:"/register"},r.a.createElement(fe.a,{color:"primary",className:"mt-3",active:!0,tabIndex:-1},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c \u0441\u0435\u0439\u0447\u0430\u0441!"))))))))))},rt=Object(u.o)((function(e){var t=e.socket,a=e.history,c=Object(s.a)(P),l=Object(n.useState)(""),i=Object(o.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),d=f[0],b=f[1],E=Object(n.useState)(""),g=Object(o.a)(E,2),O=g[0],v=g[1],j=Object(n.useState)(""),h=Object(o.a)(j,2),y=h[0],w=h[1],k=Object(n.useState)(""),N=Object(o.a)(k,2),C=N[0],x=N[1],S=Object(n.useState)(""),U=Object(o.a)(S,2),A=U[0],D=U[1],I=Object(n.useState)(""),T=Object(o.a)(I,2),L=T[0],H=T[1],B=Object(n.useState)(!1),R=Object(o.a)(B,2),F=R[0],z=R[1];Object(n.useEffect)((function(){t.on("srvNewUserWasCreated",(function(e){console.log("srvNewUserWasCreated: ",e),e.result&&z(e.result)}))}),[t]);return r.a.createElement("div",{className:"app flex-row align-items-center"},r.a.createElement(Ee.a,null,r.a.createElement(ge.a,{className:"justify-content-center"},r.a.createElement(Oe.a,{md:"9",lg:"7",xl:"6"},r.a.createElement(we.a,{className:"mx-4"},r.a.createElement(Ne.a,{className:"p-4"},r.a.createElement(Xe.a,{onSubmit:function(e){e.preventDefault(),A===y?t.emit("cpRegisterNewCpUser",{payload:{firstName:u,lastName:d,email:O,password:y}}):H("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u043f\u0430\u0440\u043e\u043b\u0435\u043c")}},r.a.createElement("h1",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.error<3||7===c.error?r.a.createElement("p",{className:"text-danger"},je(c.error)):r.a.createElement("p",{className:"text-muted"},"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),L&&r.a.createElement("p",{className:"text-danger"},L),r.a.createElement(et.a,{className:"mb-3"},r.a.createElement(tt.a,{addonType:"prepend"},r.a.createElement(at.a,null,r.a.createElement("i",{className:"icon-user"}))),r.a.createElement(me.a,{type:"text",placeholder:"\u0418\u043c\u044f",autoComplete:"firstName",value:u,onChange:function(e){return m(e.target.value)}})),r.a.createElement(et.a,{className:"mb-3"},r.a.createElement(tt.a,{addonType:"prepend"},r.a.createElement(at.a,null,r.a.createElement("i",{className:"icon-people"}))),r.a.createElement(me.a,{type:"text",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",autoComplete:"lastName",value:d,onChange:function(e){return b(e.target.value)}})),r.a.createElement(et.a,{className:"mb-3"},r.a.createElement(tt.a,{addonType:"prepend"},r.a.createElement(at.a,null,"@")),r.a.createElement(me.a,{type:"text",placeholder:"Email",autoComplete:"email",value:O,onChange:function(e){return v(e.target.value)}})),r.a.createElement(et.a,{className:"mb-3"},r.a.createElement(tt.a,{addonType:"prepend"},r.a.createElement(at.a,null,r.a.createElement("i",{className:"icon-phone"}))),r.a.createElement(me.a,{type:"text",placeholder:"\u0442\u0435\u043b\u0435\u0444\u043e\u043d",autoComplete:"tel",value:C,onChange:function(e){return x(e.target.value)}})),r.a.createElement(et.a,{className:"mb-3"},r.a.createElement(tt.a,{addonType:"prepend"},r.a.createElement(at.a,null,r.a.createElement("i",{className:"icon-lock"}))),r.a.createElement(me.a,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",autoComplete:"new-password",value:y,onChange:function(e){return w(e.target.value)}})),r.a.createElement(et.a,{className:"mb-4"},r.a.createElement(tt.a,{addonType:"prepend"},r.a.createElement(at.a,null,r.a.createElement("i",{className:"icon-lock"}))),r.a.createElement(me.a,{type:"password",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"new-password",value:A,onChange:function(e){return D(e.target.value)}})),r.a.createElement(fe.a,{color:"success",block:!0,type:"submit",disabled:!(u&&d&&O&&A&&y)},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442")))))),r.a.createElement(de,{isOpen:F,title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",text:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d. \u041f\u043e\u0441\u043b\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0432\u0430\u0448\u0435\u0439 \u0443\u0447\u0451\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0432\u0430\u043c \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",modalStyle:"modal-success",submitColor:"success",onSubmit:function(e){e.preventDefault(),a.push("/login")},onCancel:function(){m(""),b(""),v(""),w(""),x(""),D(""),H(""),z(!1)}})))})),ct=function(e){var t=e.component,a=Object(Q.a)(e,["component"]),n=Object(s.a)(C);return r.a.createElement(u.d,Object.assign({},a,{render:function(e){return n.isAuthed?r.a.createElement(t,Object.assign({},e,a)):r.a.createElement(u.c,{to:"/login"})}}))},lt=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),m=Object(o.a)(l,2),f=m[0],d=m[1],g=Object(s.a)(C),O="https://api1.kurakste.ru/cp-clients";return Object(n.useEffect)((function(){var e={token:localStorage.getItem("token"),user:localStorage.getItem("user")},t={};e.user&&(e.user=JSON.parse(e.user)),e.token&&(w(e),t.query="token=".concat(e.token)),d(p()(O,t))}),[O]),Object(n.useEffect)((function(){if(f){f.on("open",(function(){})),f.on("connect",(function(){b.log("info","Successfuly connected"),c(!0),V()})),f.on("srvUpdateAlarmListAll",(function(e){console.log("srvUpdateAlarmListAll: ",e),v(e)})),f.on("srvCreateNewAlarm",(function(e){console.log("srvCreateNewAlarm: ",e),h(e)})),f.on("srvUpdateAlarm",(function(e){console.log("srvUpdateAlarm: ",e),j(e)})),f.on("srvUpdateUserList",(function(e){console.log("srvUpdateUserList: ",e),A(e)})),f.on("srvNewUserConnected",(function(e){console.log("srvNewUserConnected: ",e),e!==g.user.id&&D(e)})),f.on("srvNewUserDisconnected",(function(e){console.log("srvNewUserDisconnected: ",e),I(e)})),f.on("srvLoginOk",(function(e){console.log("srvLoginOk: ",e),localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),f.disconnect();var t={query:"token=".concat(e.token)};d(p()(O,t)),w(e)})),f.on("srvSendAllCpUserList",(function(e){console.log("srvSendAllCpUserList ",e),B(e)})),f.on("srvSendAllAppUserList",(function(e){console.log("srvSendAllAppUserList",e),H(e)})),f.on("srvUpdateCpUser",(function(e){console.log("srvUpdateCpUser",e),R(e)})),f.on("srvApproveAppUser",(function(e){console.log("srvApproveAppUser",e),F(e)})),f.on("srvDeclineAppUser",(function(e){console.log("srvDeclineAppUser",e),G(e)})),f.on("srvDeclineCpUser",(function(e){console.log("srvDeclineCpUser",e),z(e)})),f.on("srvUpdateAllCpUserList",(function(e){console.log("srvUpdateAllCpUserList",e),B(e)})),f.on("srvUpdateAllAppUserList",(function(e){console.log("srvUpdateAllAppUserList",e),H(e)})),f.on("srvErrMessage",(function(e){console.log("srvErrMessage: ",e),500!==e.code&&3!==e.code&&4!==e.code||k(),U(e.code)})),f.on("disconnect",(function(e){b.log("error",e),console.log("\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c"),Z()}));var e=setInterval((function(){f.emit("cpGiveMeUserList")}),3e5);return function(){clearInterval(e)}}}),[f,g,O]),a?r.a.createElement(i.BrowserRouter,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(E,null)},r.a.createElement(u.g,null,r.a.createElement(u.d,{exact:!0,path:"/login",name:"Login Page",render:function(e){return r.a.createElement(nt,Object.assign({},e,{socket:f}))}}),r.a.createElement(u.d,{exact:!0,path:"/register",name:"Register Page",render:function(e){return r.a.createElement(rt,Object.assign({},e,{socket:f}))}}),r.a.createElement(ct,{path:"/",component:Ye,socket:f,setUpSocket:d})))):r.a.createElement(E,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(lt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},503:function(e,t,a){e.exports=a(1246)}},[[503,1,2]]]);
//# sourceMappingURL=main.b138e335.chunk.js.map